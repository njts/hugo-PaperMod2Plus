{{- /* theme-toggle is enabled */}}
{{- if (not site.Params.disableThemeToggle) }}
{{- /* theme is light */}}
{{- if (eq site.Params.defaultTheme "light") }}
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>
{{- /* theme is dark */}}
{{- else if (eq site.Params.defaultTheme "dark") }}
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>
{{- else }}
{{- /* theme is auto */}}
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
{{- end }}
{{- /* theme-toggle is disabled and theme is auto */}}
{{- else if (and (ne site.Params.defaultTheme "light") (ne site.Params.defaultTheme "dark"))}}
<script>
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
{{- end }}

<header class="header">
    <nav class="nav">
        <div class="logo">
            {{- $label_text := (site.Params.label.text | default site.Title) }}
            {{- if site.Title }}
            <a href="{{ "" | absLangURL }}" accesskey="h" title="{{ $label_text }} (Alt + H)">
                {{- if site.Params.label.icon }}
                {{- $img := resources.Get site.Params.label.icon }}
                {{- if $img }}
                    {{- $processableFormats := (slice "jpg" "jpeg" "png" "tif" "bmp" "gif") -}}
                    {{- if hugo.IsExtended -}}
                        {{- $processableFormats = $processableFormats | append "webp" -}}
                    {{- end -}}
                    {{- $prod := (hugo.IsProduction | or (eq site.Params.env "production")) }}
                    {{- if and (in $processableFormats $img.MediaType.SubType) (eq $prod true)}}
                        {{- if site.Params.label.iconHeight }}
                            {{- $img = $img.Resize (printf "x%d" site.Params.label.iconHeight) }}
                        {{ else }}
                            {{- $img = $img.Resize "x30" }}
                        {{- end }}
                    {{- end }}
                    <img src="{{ $img.Permalink }}" alt="" aria-label="logo"
                        height="{{- site.Params.label.iconHeight | default "30" -}}">
                {{- else }}
                <img src="{{- site.Params.label.icon | absURL -}}" alt="" aria-label="logo"
                    height="{{- site.Params.label.iconHeight | default "30" -}}">
                {{- end -}}
                {{- else if hasPrefix site.Params.label.iconSVG "<svg" }}
                    {{ site.Params.label.iconSVG | safeHTML }}
                {{- end -}}
                {{- $label_text -}}
            </a>
            {{- end }}
            <div class="logo-switches">
                {{- if (not site.Params.disableThemeToggle) }}
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                {{- end }}

                {{- $lang := .Lang}}
                {{- $separator := or $label_text (not site.Params.disableThemeToggle)}}
                {{- with site.Home.AllTranslations }}
                <ul class="lang-switch">
                    {{- if $separator }}<li>|</li>{{ end }}
                    {{- range . -}}
                    {{- if ne $lang .Lang }}
                    <li>
                        <a href="{{- .Permalink -}}" title="{{ .Language.Params.languageAltTitle | default (.Language.LanguageName | emojify) | default (.Lang | title) }}"
                            aria-label="{{ .Language.LanguageName | default (.Lang | title) }}">
                            {{- if (and site.Params.displayFullLangName (.Language.LanguageName)) }}
                            {{- .Language.LanguageName | emojify -}}
                            {{- else }}
                            {{- .Lang | title -}}
                            {{- end -}}
                        </a>
                    </li>
                    {{- end -}}
                    {{- end}}
                </ul>
                {{- end }}
            </div>
        </div>
        {{- $currentPage := . }}
        <ul id="menu">
            {{- range site.Menus.main }}
            {{- $menu_item_url := (cond (strings.HasSuffix .URL "/") .URL (printf "%s/" .URL) ) | absLangURL }}
            {{- $page_url:= $currentPage.Permalink | absLangURL }}
            {{- $is_search := eq (site.GetPage .KeyName).Layout `search` }}
            <li>
              <a href="{{ .URL | absLangURL }}" title="{{ .Title | default .Name }} {{- cond $is_search (" (Alt + /)" | safeHTMLAttr) ("" | safeHTMLAttr ) }}"
              {{- cond $is_search (" accesskey=/" | safeHTMLAttr) ("" | safeHTMLAttr ) }}>
                <span {{- if eq $menu_item_url $page_url }} class="active" {{- end }}>
                  {{- if eq .Identifier "contact" }}
                  <svg width="33" height="33" viewBox="0 -10 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <defs>
                     <linearGradient id="a">
                      <stop stop-color="#b5c5cd" stop-opacity=".57895" offset="0"/>
                      <stop stop-color="#b5c5cd" stop-opacity=".08978" offset="1"/>
                     </linearGradient>
                     <linearGradient id="c" x1="31.833" x2="83.033" y1="69.899" y2="107.74" gradientUnits="userSpaceOnUse" xlink:href="#a"/>
                     <linearGradient id="b" x1="65.455" x2="23.159" y1="109.79" y2="122.83" gradientUnits="userSpaceOnUse" xlink:href="#a"/>
                    </defs>
                    <path d="m21.664 105.88c5.2341-2.2144 10.25-2.8382 15.645-2.2312 5.4632 0.37701 10.696 1.91 15.722 4.0841 4.738 2.7152 8.9494 7.1315 12.424 11.347l-0.35904-0.05771c-3.8905 1.8503-6.1444 3.1954-12.989 3.3906-6.6446 1.1867-17.449-0.10144-22.834-4.5672-4.5492-2.2976-6.4733-8.1845-7.5976-11.932l-0.0113-0.03389z" fill="url(#b)"/>
                    <path d="m21.664 105.88c5.2341-2.2144 10.25-2.8382 15.645-2.2312 5.4632 0.37701 10.696 1.91 15.722 4.0841 4.738 2.7152 8.9494 7.1315 12.424 11.347l-0.35904-0.05771c-3.2661-4.2272-7.7679-7.6276-12.407-10.263-4.8963-2.5181-10.289-3.0153-15.633-3.7347-5.4234-1.2152-10.095-0.56675-15.382 0.88931l-0.0113-0.03389z"/>
                    <path d="m74.861 15.367c-2.1619 3.2592-3.9427 7.4178-5.0665 9.6611s-1.156 2.6483-1.7063 3.7543c1.33 1.5237 3.3942 3.4141 5.3105 4.1115 1.6106 0.26855 4.7487 0.19003 6.2454 0.73915 0.00443-0.00265-0.00441-0.02857 0-0.03125 0.96642-1.0208 1.229-1.7677 2.0655-4.0362 0.84378-2.2884 3.5713-4.8179 5.5004-8.2135 1.9404-3.4154 2.5016-5.0623 4.6649-7.2848 0.2045-2.6171-2.7405-4.6695-4.807-6.0106-1.9368-1.0502-5.6404-2.2064-7.4672-2.3208-1.8907 3.0127-2.5486 6.3279-4.7397 9.6311z" fill="#a05a2c"/>
                    <path d="m54.041 44.858c-1.6066 6.5092-5.1032 11.678-7.9979 19.567-2.859 7.7918-4.2306 11.967-8.1322 20.873-3.8432 8.7724-8.8096 18.435-8.8096 18.435 3.3164 1.2373 7.1216 3.4649 10.43 4.5793-0.18467 0.77886-0.47585 1.5184-0.71875 2.2812 2.7648 2.8267 7.3154 2.7053 11 3.1562 2.7821 0.1781 5.9724 0.58193 8.5938-0.4375 2.7226-4.1209 2.4112-9.7086 4.4838-15.144 2.0588-5.399 3.9029-9.7545 7.0382-16.873 3.1761-7.2106 7.347-14.511 9.1793-20.483-0.5657-4.8188-5.12-7.1774-9.6779-9.1757l-15.389-6.7796z" fill="#ffffb8"/>
                    <path d="m54.041 44.858c-1.6066 6.5092-5.1032 11.678-7.9979 19.567-2.859 7.7918-4.2306 11.967-8.1322 20.873-3.8432 8.7724-8.8096 18.435-8.8096 18.435 3.3164 1.2373 7.1216 3.4649 10.43 4.5793-0.18467 0.77886-0.47585 1.5184-0.71875 2.2812 2.7648 2.8267 7.3154 2.7053 11 3.1562 2.7821 0.1781 5.9724 0.58193 8.5938-0.4375 2.7226-4.1209 2.4112-9.7086 4.4838-15.144 2.0588-5.399 3.9029-9.7545 7.0382-16.873 3.1761-7.2106 7.347-14.511 9.1793-20.483-0.5657-4.8188-5.12-7.1774-9.6779-9.1757l-15.389-6.7796zm0.86518 1.7551c4.675 2.4218 10.407 3.8311 14.575 5.6483s7.7206 3.7571 8.3941 7.8322c-0.41663 2.4756-2.5849 4.1714-4.2188 5.9688-1.4035 1.8074-2.8803 1.864-5.041 1.7976 0.76864-2.3255 0.8557-4.4279 2.084-6.7976-0.31073-3.7726-3.0406-5.2194-6.7304-5.5938-2.7744 0.41613-5.5863 1.7695-7.1641 4.0586-1.6447 4.0444-2.5505 7.6179-4.1415 13.232-1.5864 5.5973-4.2652 13.11-6.375 19.087s-4.4497 10.761-6.6632 16.123c-3.0894-1.2412-6.1917-2.8749-9.1562-4.5312 3.2031-5.7208 5.4662-11.214 8.5596-17.825 3.136-6.7016 5.4419-14.761 7.923-21.425s5.3864-11.464 7.9548-17.574zm10.594 16.23c0.27934-1.327 0.60751-3.0475 0.97538-4.3176-1.615 0.24218-2.9998-0.08088-4.4674 1.4655 0.06349 1.6441-0.89393 3.4464-1.2892 5.1021-1.9605-1.104-3.0491-3.0708-3.0312-5.25 1.3433-2.2057 3.9123-2.8595 6.431-3.3797 6.0896-0.59186 7.2931 6.6162 1.3815 6.3797zm-0.34375-3.4688c0.14283 1.1411 0.09141 2.2619-0.03125 3.4062-0.6268-0.11729-1.1951-0.69879-1.7188-1.125-0.8073-1.5186 0.28485-2.0258 1.75-2.2812zm-8.0527 1.6054c0.25141 2.1693 1.421 3.6797 3.1693 4.875 4.2699 2.5627 9.372 4.6184 13.693 0.87173 1.4336-1.5292 2.8717-3.4065 3.972-5.1959-1.904 7.2373-5.0488 12.004-8.2425 18.455-3.2151 6.4952-5.3133 10.478-7.7014 17.615-2.3548 7.0372-1.8936 10.854-4.3765 15.08-25.277 2.1092-15.967-5.3093-10.699-20.679 2.0243-6.476 4.7851-13.555 6.6602-18.928 1.8819-5.3922 1.3996-8.4753 3.5253-12.095zm5.4095 0.71222c1.7391 2.336 4.5515 2.3301 6.6973 0.81577-0.60064 1.9603-1.0542 3.5031-1.528 5.4949-2.406 0.08536-4.0835-1.2451-6.118-2.4258 0.31952-1.4653 0.6281-2.6387 0.9487-3.8848z"/>
                    <path d="m65.051 71.136c-0.53449 1.7287-2.9961 0.60663-3.3818-0.66234 0.75175-1.1728 2.3122 0.80625 3.3818 0.66234zm-1.4434 3.9974c-0.40159 1.1106-3.3952 1.6881-1.7868 3.0274-1.2988 1.0336-3.368-0.72401-2.6303-2.1596 0.47279-0.7872 2.5607-0.06702 1.0293-1.1614-0.85147-0.42781-0.9705-1.371 0.22593-0.80547 1.0698 0.31976 2.1024 0.74862 3.1619 1.099zm-1.6787 4.6492c0.64712 1.6417-1.6058 1.9712-2.2554 1.4714-0.8211-0.03159-1.676-1.6606-2.3706-0.53109-0.86023-1.9944 1.5704-2.5544 2.9216-1.6894 0.58294 0.21428 1.1479 0.4742 1.7044 0.74909zm-1.3728 3.8019c0.64712 1.6417-1.6058 1.9712-2.2554 1.4714-0.8211-0.03159-1.676-1.6606-2.3706-0.53109-0.86023-1.9944 1.5704-2.5544 2.9216-1.6894 0.58294 0.21428 1.1479 0.4742 1.7044 0.74909zm-2.5405 4.562c-1.1937-2.1498-3.8993 1.0779-1.2904 1.4076 0.68378-0.11796 1.0866-0.80472 1.2904-1.4076zm1.1678-0.76018c0.53041 1.816-1.625 3.2849-3.2441 2.6521-1.2741-0.33872-2.32-2.1685-1.0351-3.1272 1.0426-0.88868 2.6946-0.77069 3.6288 0.2026 0.20786 0.11197 0.43038 0.18861 0.65034 0.27242zm-2.1611 5.9852c-1.3605 0.47408-1.0814 3.658-2.7922 2.8785-0.9688-0.59533-2.2405-2.494-0.23567-2.5809 1.0161 0.01634 2.1494 0.50846 3.0279-0.29757zm-2.9376 5.9934c0.64925-2.5474-3.9208-0.30089-1.6575 0.6054 0.57091 0.14115 1.4404 0.04607 1.6575-0.6054zm0.75766 0.27357c-0.33049 1.4355-2.2034 1.7551-3.2267 0.8558-1.358-0.82355-1.4375-3.3727 0.30677-3.7626 1.5017-0.43946 3.5502 0.80946 3.0915 2.5187l-0.17155 0.38805zm-1.1107 2.8467c-0.43752 1.2863-3.1937 0.09386-3.0786 1.2486 1.4699 0.57773 1.133 2.4759-0.44083 1.3136-1.4571-0.49936-2.1103-2.6091-0.46135-3.3462 1.3596-0.60019 2.7683 0.24523 3.9808 0.78393zm-4.6557 3.4913c0.09873 2.077-2.1904-1.0838-0.09848-0.06149l0.0763 0.04765 0.02218 0.01384zm-0.76091 2.1073c0.09874 2.077-2.1904-1.0837-0.09848-0.06149l0.0763 0.04764 0.02218 0.01385zm-0.7609 2.1073c0.09872 2.077-2.1904-1.0838-0.09848-0.06148l0.0763 0.04763 0.02218 0.01385z"/>
                    <path d="m73.872 13.373c-2.641 2.8292-4.8025 6.4728-6.6533 9.9395 0.64893 0.09566 0.85248 0.70454 1.1875 1.1875-0.99027 2.54-1.5065 2.1114-3.9688 7.125-2.4957 5.0817-2.7344 5.8065-5.7221 7.857-3.2947 2.2611-7.8253 3.1076-11.34 4.7992-6.7027 3.2257-8.2539 8.9429-10.844 17.188s-6.8332 21.331-9.625 28.625-3.8328 10.391-5.875 15.531c0.09087 4.5715 3.0381 9.0402 6.75 11.969s7.9784 5.479 14.209 5.6407 17.66-0.10249 24.314-3.8412c1.5798-7.2582 5.2975-13.729 7.6381-20.688 2.0646-6.1378 4.5184-11.973 6.8293-18.587 2.5707-7.3572 6.5967-15.526 6.3531-21.993s-4.7555-11.403-6.8125-14.438-0.50175-3.4872 0.36706-6.1562c0.85677-2.632 1.6922-4.8762 2.4753-7.444 1.3001 0.0183 2.0602 0.08489 3.3452 0.41278 1.1778-3.2812 2.7348-6.1036 3.25-9.5312 0.00431-0.01248 0.02693-0.01877 0.03125-0.03125-0.87455-0.8354-1.4624-1.5636-2.3994-2.4033l-1.0533 2.8678c-2.6862-0.51086-4.4427-1.6088-6.8776-2.7994-2.2074-0.10797-6.3376-6.1151-3.9232-2.3051l0.75342-2.2975c-0.66492-0.4766-1.6495-0.56917-2.4092-0.62697z" fill="url(#c)"/>
                    <path d="m73.872 13.373c-2.641 2.8292-4.8025 6.4728-6.6533 9.9395 0.64893 0.09566 0.85248 0.70454 1.1875 1.1875-0.99027 2.54-1.5065 2.1114-3.9688 7.125-2.4957 5.0817-2.7344 5.8065-5.7221 7.857-3.2947 2.2611-7.8253 3.1076-11.34 4.7992-6.7027 3.2257-8.2539 8.9429-10.844 17.188s-6.8332 21.331-9.625 28.625-3.8328 10.391-5.875 15.531c0.09087 4.5715 3.0381 9.0402 6.75 11.969s7.9784 5.479 14.209 5.6407 17.66-0.10249 24.314-3.8412c1.5798-7.2582 5.2975-13.729 7.6381-20.688 2.0646-6.1378 4.5184-11.973 6.8293-18.587 2.5707-7.3572 6.5967-15.526 6.3531-21.993s-4.7555-11.403-6.8125-14.438-0.50175-3.4872 0.36706-6.1562c0.85677-2.632 1.6922-4.8762 2.4753-7.444 1.3001 0.0183 2.0602 0.08489 3.3452 0.41278 1.1778-3.2812 2.7348-6.1036 3.25-9.5312 0.00431-0.01248 0.02693-0.01877 0.03125-0.03125-0.87455-0.8354-1.4624-1.5636-2.3994-2.4033l-0.50197 0.50493c0.96252 0.7237 0.92446 1.0924 1.8174 1.8984 0.20091 0.14917 0.48875 0.42621 0.45893 0.625-3.3232-0.10971-6.5984-1.3358-9.7052-2.9599-3.2061-1.676-3.1946-2.4291-5.0096-4.4092 0.73151-0.07056 1.2325-0.0611 1.874 0.21382l-0.03421-0.40724c-0.66492-0.4766-1.6495-0.56917-2.4092-0.62697zm-0.31349 1.7335c1.825 1.8297 2.1123 2.9646 5.3885 4.5714 3.3273 1.6318 6.3576 1.9044 9.545 2.4188-0.88613 2.7831-0.77576 4.6501-2.8095 7.3319-3.8524-0.21594-7.2457-0.76886-10.837-2.1836-2.3576-1.4556-4.7127-2.2673-6.3026-4.5615 1.613-3.1454 2.8305-4.8217 5.0155-7.577zm-4.536 9.7259c2.1058 0.49522 3.5966 2.0396 5.5399 3.0425 2.4294 0.99362 4.9568 1.8328 7.5938 1.9375-0.76653 2.6164-1.7276 5.3004-2.5312 7.6562-0.79048 2.3173-1.7897 4.2062-0.36194 7.2966 1.4493 3.1371 7.0602 7.2484 6.6889 13.541s-3.4709 13.523-6.0849 20.74c-2.2101 6.1017-4.903 13.381-7.1847 19.448-2.6287 6.9895-5.5931 13.521-7.8386 20.663-7.117 2.1449-16.487 3.92-22.688 3.2188s-9.931-2.8038-13.847-5.6813-5.0298-6.2644-5.9292-10.807c1.9724-5.1516 2.9724-8.2092 5.9265-15.44s6.482-20.203 9.2294-28.496 3.7154-13.357 10.361-16.352c6.8303-3.0782 7.1198-3.0032 10.902-5.0464s5.3289-5.1146 6.6206-8.1012 2.3955-5.2911 3.6024-7.619z"/>
                    <path d="m74.861 15.367c-2.1619 3.2592-3.9427 7.4178-5.0665 9.6611s-1.156 2.6483-1.7063 3.7543c1.33 1.5237 3.3942 3.4141 5.3105 4.1115 1.6106 0.26855 4.7487 0.19003 6.2454 0.73915 0.00443-0.00265-0.00441-0.02857 0-0.03125 0.96642-1.0208 1.229-1.7677 2.0655-4.0362 0.84378-2.2884 3.5713-4.8179 5.5004-8.2135 1.9404-3.4154 2.5016-5.0623 4.6649-7.2848 0.2045-2.6171-2.7405-4.6695-4.807-6.0106-1.9368-1.0502-5.6404-2.2064-7.4672-2.3208-1.8907 3.0127-2.5486 6.3279-4.7397 9.6311zm11.702-6.6169c1.989 0.66518 4.2837 2.5595 4.4491 4.6273-1.0318 0.14661-5.2451-0.57315-6.9491-1.6586-1.6759-1.0675-2.6283-2.9553-3.0839-4.6441 1.8054-0.19733 3.5949 1.0102 5.5839 1.6754zm-2.8789 3.8839c1.8465 0.71859 3.8723 1.5786 5.827 1.8638-1.1838 2.8019-2.515 3.6282-3.8317 6.5092-1.306 2.8574-4.1356 6.1175-5.0889 8.1178s-0.93481 2.5921-1.4874 3.6605c-1.4995-0.43457-3.7721-0.41056-5.2931-0.77533-1.8628-0.60001-3.0598-2.0824-4.5546-3.3378 0.26796-1.3166 0.57176-1.0103 1.5178-3.0441 0.95761-2.0587 3.7298-7.0566 5.2879-9.8999 1.5332-2.7981 2.3004-5.2291 3.7525-8.1683 0.88538 1.5417 2.303 4.1514 3.8704 5.0741z"/>
                   </svg>
                  {{- end }}
                  {{- .Name -}}
                  {{ .Post -}}
                </span>
                    {{- if (findRE "://" .URL) }}&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                    {{- end }}
                </a>
            </li>
            {{- end }}
        </ul>
    </nav>
</header>
